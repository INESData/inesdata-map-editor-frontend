<div class="whiteContainer w-full">
	<h1 class="mb-3">Lista de mapeos</h1>
	<p-button class="btn btn__secondary mr-2" label="Generar mapeo manual" routerLink="/mappings/builder" />
	<p-button (onClick)="showDialogAuto()" class="btn btn__secondary mr-2" label="Generar mapeo automático" />
	<p-button class="btn btn__secondary" label="Importar mapeo" />
	<p-table class="mt-2 block" [value]="mappings">
		<ng-template pTemplate="header">
			<tr>
				<th class="col-2" scope="col">Nombre</th>
				<th class="col-5" scope="col">Ontology</th>
				<th class="col-4" scope="col">Fuente de datos</th>
				<th class="col-1" scope="col"></th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-mapping>
			<tr>
				<td>{{ mapping.name }}</td>
				<td>{{ mapping.ontology }}</td>
				<td>{{ mapping.datasource }}</td>
				<td>
					<div class="flex flex-justify flex-justify-right">
						<p-button class="btn btn__icon icon-ojo mr-1" />
						<p-button (onClick)="showDialog()" class="btn btn__icon icon-play mr-1" />
						<p-button class="btn btn__icon icon-lapiz mr-1" />
						<p-button (onClick)="showDialogDelete()" class="btn btn__icon icon-papelera" />
					</div>
				</td>
			</tr>
		</ng-template>
	</p-table>
</div>

<p-dialog
	header="Genera un mapeo automático"
	[modal]="true"
	[draggable]="false"
	[(visible)]="autoDialogVisible"
	[style]="{ width: '40rem' }"
>
	<p class="mt-0">
		Seleccione las <strong>ontologías</strong> y las <strong>fuentes de datos</strong> necesarias para generar un mapeo automático:
	</p>
	<div class="grid">
		<div class="col-6">
			<h3 class="mt-1 mb-1">Ontologías</h3>
			<div class="mappingCategory">
				<div class="flex flex-column gap-3">
					<div class="searcherContainer">
						<input class="searcher" placeholder="Buscar por..." type="text" pInputText />
					</div>
					<div *ngFor="let category of categories" class="field-checkbox">
						<p-checkbox [(ngModel)]="selectedCategories" [label]="category.name" name="group" [value]="category" />
					</div>
				</div>
			</div>
		</div>
		<div class="col-6">
			<h3 class="mt-1 mb-1">Fuentes de datos</h3>
			<div class="mappingCategory">
				<div class="flex flex-column gap-3">
					<div class="searcherContainer">
						<input class="searcher" placeholder="Buscar por..." type="text" pInputText />
					</div>
					<div *ngFor="let category of categories" class="field-checkbox">
						<p-checkbox [(ngModel)]="selectedCategories" [label]="category.name" name="group" [value]="category" />
					</div>
				</div>
			</div>
		</div>
		<div class="flex flex-justify-right col-12">
			<p-button class="btn btn__primary mr-2" label="Generar mapeo" type="button" />
			<p-button class="btn btn__secondary" label="Cancelar" type="button" />
		</div>
	</div>
</p-dialog>

<p-dialog
	header="Histórico de materializaciones de *Nombre del mapeo"
	[modal]="true"
	[draggable]="false"
	[(visible)]="addDialogVisible"
	[style]="{ width: '60rem' }"
>
	<app-mappings-records (formSubmitted)="addDialogVisible = false"></app-mappings-records>
</p-dialog>

<p-dialog
	header="¿Seguro que quieres eliminar este mapeo?"
	[modal]="true"
	[draggable]="false"
	[(visible)]="deleteDialogVisible"
	[style]="{ width: '40rem' }"
>
	<div class="flex flex-justify-right w-full">
		<p-button class="btn btn__primary mr-2" label="Eliminar" type="button" />
		<p-button class="btn btn__secondary" label="Cancelar" type="button" />
	</div>
</p-dialog>
